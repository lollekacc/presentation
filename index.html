<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adeala ‚Äì V√§lkommen</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
  <style>
    .btn {
      @apply bg-blue-600 text-white py-3 px-6 rounded hover:bg-blue-700 transition text-lg;
    }

    /* Chat box styles */
    #chatBox {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 280px;
      background: #ffffff;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      font-family: "Inter", sans-serif;
      z-index: 1000;
      transition: width 0.3s ease, height 0.3s ease;
    }

    #chatBox.minimized #chatBody,
    #chatBox.minimized #chatFooter {
      display: none;
    }

    #chatBox.minimized {
      width: 200px;
      height: auto;
      cursor: pointer;
    }

    #chatHeader {
      background-color: #2563eb;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      font-weight: 600;
    }

    #chatHeader .title {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #chatHeader .controls svg {
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    #chatBox.minimized .minimize-btn {
      transform: rotate(180deg);
    }

    #chatBody {
      background: #f9fafb;
      flex-grow: 1;
      padding: 16px;
      overflow-y: auto;
    }

    .bot-message {
      background: #e5edff;
      color: #1e3a8a;
      padding: 12px 16px;
      border-radius: 12px;
      margin-bottom: 12px;
      font-size: 0.95rem;
      max-width: 85%;
      line-height: 1.5;
    }

    .chat-button {
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 10px;
      font-weight: 500;
      width: 100%;
      text-align: center;
      margin-top: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .chat-button:hover {
      background-color: #1e40af;
    }

    #chatFooter {
      display: flex;
      align-items: center;
      padding: 10px 12px;
      border-top: 1px solid #e5e7eb;
      background: #fff;
    }

    #chatFooter input {
      flex: 1;
      border: none;
      background: #f3f4f6;
      border-radius: 20px;
      padding: 10px 14px;
      outline: none;
      font-size: 0.95rem;
    }

    #chatFooter button {
      background: none;
      border: none;
      margin-left: 8px;
      color: #2563eb;
      cursor: pointer;
    }
  </style>
</head>

<body class="bg-white text-gray-900 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="w-full bg-blue-100 shadow-sm fixed top-0 left-0 z-50">
    <div class="max-w-7xl mx-auto px-1 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-extrabold text-blue-600">Adeala</a>
      <nav class="hidden md:flex space-x-9 text-lg font-medium text-gray-700">
        <a href="abonnemang.html" class="hover:text-blue-600 transition">Abonnemang</a>
        <a href="bredband.html" class="hover:text-blue-600 transition">Bredband</a>
        <a href="partner.html" class="hover:text-blue-600 transition">Partner</a>
        <a href="bel√∂ning.html" class="hover:text-blue-600 transition">Bel√∂ning</a>
        <a href="om-oss.html" class="hover:text-blue-600 transition">Om oss</a>
        <a href="kundservice.html" class="hover:text-blue-600 transition">Kundservice</a>
      </nav>
     <a href="login.html" class="text-blue-300 hover:text-blue-500 transition" aria-label="Mina Sidor">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 fill-blue-200 hover:fill-blue-100 transition" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A9.005 9.005 0 0112 15c2.21 0 4.21.895 5.657 2.343M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
  </svg>
</a>


    </div>
  </header>

  <!-- Spacer -->
  <div class="h-24"></div>

  <!-- Partner Logos -->
  <section class="w-full bg-gray-50 py-4">
    <div class="px-6">
      <p class="mb-2 text-sm font-semibold text-gray-600">I samarbete med:</p>
      <div class="flex flex-wrap items-center gap-6">
        <img src="https://mb.cision.com/Public/3372/4130715/b9f707e6cee5920c_org.jpg" alt="Tele2" class="h-14" />
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Telia.svg/1200px-Telia.svg.png" alt="Telia" class="h-14" />
        <img src="https://images.ctfassets.net/d48yc3frismn/2alkLOowwaSm0LJYWChQtC/0c972d418d07c5e003fa9af900385d6b/open_graph_telenor_foretag_1200x628.jpg" alt="Telenor" class="h-14" />
        <img src="https://www.mobiltelefoni.se/cms2/wp-content/uploads/2018/09/tre-logo-1024x600.jpg" alt="Tre" class="h-14" />
        <img src="https://mobilt-bredband.net/wp-content/uploads/2025/03/unnamed.png" alt="Halebop" class="h-14" />
      </div>
    </div>
  </section>

 <main class="flex-grow px-6 py-16">
  <div class="max-w-6xl mx-auto text-center bg-blue-200 border border-gray-300 shadow-lg rounded-3xl p-16 min-h-[500px]">
    <h2 id="question" class="text-4xl font-semibold mb-6 text-gray-800">Laddar fr√•ga...</h2>
    <div id="answers" class="flex flex-col gap-16"></div>
    <button id="restartBtn" class="btn mt-6 hidden" onclick="restartQuiz()">Starta om</button>
  </div>
</main>



  <!-- Chat Box -->
  <div id="chatBox">
    <div id="chatHeader">
      <div class="title">
        üí¨ <span>Adeala Chat</span>
      </div>
      <div class="controls">
        <svg class="minimize-btn" xmlns="http://www.w3.org/2000/svg" height="24" width="24" fill="white" viewBox="0 0 24 24">
          <path d="M6 18L18 6M6 6l12 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </div>

    <div id="chatBody">
      <div class="bot-message">
        <p><strong>Hej!</strong><br />Jag heter <strong>AdealaBot</strong> üí¨</p>
        <p class="mt-2">Skriv vad du letar efter s√• hj√§lper jag dig!</p>
      </div>
      <p id="searchResult" class="text-gray-600 text-sm"></p>
      <button class="chat-button" onclick="handleFreeSearch()">S√∂k erbjudanden</button>
    </div>

    <div id="chatFooter">
      <input type="text" id="freeSearch" placeholder="Skriv ett meddelande..." />
      <button onclick="handleFreeSearch()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Offers Section -->
  <section id="offers" class="bg-gray-50 py-16 border-t border-gray-200">
    <h1 class="text-3xl font-bold text-center text-blue-600 mb-10">J√§mf√∂r Abonnemang</h1>
    <div id="main-offer" class="bg-white border border-gray-200 rounded-lg shadow-md p-8 max-w-md mx-auto mb-12 text-center"></div>
    <div id="sub-offers" class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto"></div>
  </section>

  <script>
    const questions = [
      { id: 1, text: "Har du barn?", answers: ["Ja", "Nej"] },
      { id: 2, text: "Hur m√•nga barn har du?", answers: ["1", "2", "3 eller fler"] },
      { id: 3, text: "Vad letar du efter i ett abonnemang?", answers: ["Pris", "T√§ckning", "Utl√§ndska Samtal"] }
    ];

    let currentQuestionIndex = 0;
    const userAnswers = [];
    const questionEl = document.getElementById("question");
    const answersEl = document.getElementById("answers");
    const restartBtn = document.getElementById("restartBtn");

    function showQuestion(index) {
      const question = questions[index];
      questionEl.textContent = question.text;
      answersEl.innerHTML = "";
      question.answers.forEach(answer => {
        const btn = document.createElement("button");
        btn.textContent = answer;
        btn.className = "btn";
        btn.onclick = () => selectAnswer(answer);
        answersEl.appendChild(btn);
      });
      restartBtn.classList.add("hidden");
    }

    function selectAnswer(answer) {
      userAnswers.push({ question: questions[currentQuestionIndex].text, answer });
      if (currentQuestionIndex === 0 && answer === "Nej") currentQuestionIndex = 2;
      else currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) showQuestion(currentQuestionIndex);
      else {
        localStorage.setItem("userAnswers", JSON.stringify(userAnswers));
        document.getElementById("offers").scrollIntoView({ behavior: "smooth" });
        renderOffers();
      }
    }

    function restartQuiz() {
      currentQuestionIndex = 0;
      userAnswers.length = 0;
      showQuestion(currentQuestionIndex);
    }

    function handleFreeSearch() {
      const input = document.getElementById("freeSearch").value.trim().toLowerCase();
      const resultEl = document.getElementById("searchResult");
      if (!input) {
        resultEl.textContent = "V√§nligen skriv n√•got att s√∂ka efter.";
        return;
      }

      const validKeywords = ["billig", "utl√§ndsk", "snabb", "t√§ckning", "bredband"];
      const foundKeyword = validKeywords.find(k => input.includes(k));
      if (foundKeyword) {
        localStorage.setItem("searchKeyword", foundKeyword);
        document.getElementById("offers").scrollIntoView({ behavior: "smooth" });
        renderOffers();
      } else {
        resultEl.textContent = `Inget resultat f√∂r "${input}". F√∂rs√∂k med t.ex. 'bredband', 'snabb', 'billig' etc.`;
      }
    }

    function renderOffers() {
      const companies = [
        { name: "Tele2", logo: "https://mb.cision.com/Public/3372/4130715/b9f707e6cee5920c_org.jpg", offer: "Fastpris + 30 GB surf f√∂r 349:-/m√•n" },
        { name: "Telia", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Telia.svg/1200px-Telia.svg.png", offer: "Fastpris + 40 GB surf f√∂r 369:-/m√•n" },
        { name: "Halebop", logo: "https://mobilt-bredband.net/wp-content/uploads/2025/03/unnamed.png", offer: "Fastpris + 20 GB surf f√∂r 279:-/m√•n" },
        { name: "Tre", logo: "https://www.mobiltelefoni.se/cms2/wp-content/uploads/2018/09/tre-logo-1024x600.jpg", offer: "Fastpris + 25 GB surf f√∂r 299:-/m√•n" },
        { name: "Telenor", logo: "https://images.ctfassets.net/d48yc3frismn/2alkLOowwaSm0LJYWChQtC/0c972d418d07c5e003fa9af900385d6b/open_graph_telenor_foretag_1200x628.jpg", offer: "Fastpris + 35 GB surf f√∂r 359:-/m√•n" }
      ];

      const shuffle = arr => arr.sort(() => Math.random() - 0.5);
      const shuffled = shuffle([...companies]);
      const main = shuffled[0];
      const subs = shuffled.slice(1, 5);

      document.getElementById("main-offer").innerHTML = `
        <img src="${main.logo}" alt="${main.name}" class="h-14 mb-4 mx-auto" />
        <h2 class="text-2xl font-bold mb-2">${main.name} Erbjudande</h2>
        <p class="text-lg mb-4">${main.offer}</p>
        <h3 class="text-xl font-semibold mb-2">Ditt behov</h3>
        <p class="text-base mb-4">Fastpris + 15 GB surf f√∂r 249:-/m√•n</p>
        <p class="mb-6">Tratta ned on√∂dig surf och f√• <strong>billigare abonnemang</strong> +<br /><strong>Presentkort v√§rde 1000:-</strong></p>
        <a href="sign.html" class="btn">V√§lj detta erbjudande</a>
      `;

      const container = document.getElementById("sub-offers");
      container.innerHTML = "";
      subs.forEach(c => {
        const div = document.createElement("div");
        div.className = "bg-white border border-gray-200 rounded-lg shadow-md p-6 text-center";
        div.innerHTML = `<img src="${c.logo}" alt="${c.name}" class="h-12 mb-4 mx-auto" />
          <h3 class="text-xl font-semibold mb-2">${c.name}</h3>
          <p class="mb-4">${c.offer}</p>
          <a href="sign.html" class="btn">V√§lj</a>`;
        container.appendChild(div);
      });
    }

    // Chat toggle
    document.querySelector(".minimize-btn").addEventListener("click", () => {
      document.getElementById("chatBox").classList.toggle("minimized");
    });

    // Start first question
    showQuestion(currentQuestionIndex);
  </script>
</body>
</html>
